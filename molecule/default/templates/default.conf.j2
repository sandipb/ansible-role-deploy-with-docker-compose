{% set tpl_vars = docker_service_templates_vars %}

# This server only serves a specific domain
server {
    listen 80;
    server_name {{ tpl_vars.server_name }};

    root /usr/share/nginx/html;
    index index.html index.htm;

    location / {
        try_files $uri $uri/ =404;
    }
}

# Fallback server to return 404 if the requested resource is not found
# 404 is a special code that means "not found"
server {
    listen 80 default_server;
    server_name _;
    return 404;
}
